!function(){"use strict";function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.list=localStorage.getItem("todoList")?JSON.parse(localStorage.getItem("todoList")):[]}var i,r;return i=t,(r=[{key:"addTodo",value:function(t){t.completed=!1,t.index=this.list.length+1,this.list.push(t),localStorage.setItem("todoList",JSON.stringify(this.list))}},{key:"removeTodo",value:function(t){this.list=this.list.filter((function(e){return e.index!==t})),this.list=this.list.map((function(t,i){return e(e({},t),{},{index:i+1})})),localStorage.setItem("todoList",JSON.stringify(this.list))}},{key:"updateTodo",value:function(t){this.list[t.index-1]=t,localStorage.setItem("todoList",JSON.stringify(this.list))}},{key:"clearCompleted",value:function(){this.list=this.list.filter((function(t){return!t.completed})),this.list=this.list.map((function(t,i){return e(e({},t),{},{index:i+1})})),localStorage.setItem("todoList",JSON.stringify(this.list))}}])&&n(i.prototype,r),Object.defineProperty(i,"prototype",{writable:!1}),t}()),o=document.querySelector(".input");o.addEventListener("keypress",(function(t){if(13===t.keyCode&&""!==o.value.trim()){var e={description:o.value};o.value="",r.addTodo(e),c()}}));var c=function t(){var e="";r.list.forEach((function(t){e+='<li class="todo-li"><input '.concat(t.completed?"checked":"",' type="checkbox" class="checked">\n          <p contenteditable="true" class="todo-edit" id="').concat(t.index,'">').concat(t.description,'</p>\n          <i class="fas fa-trash icon trash"></i>\n          <i class="fas fa-ellipsis-v icon drag"></i>\n        </li>')})),document.querySelector(".todo-items").innerHTML=e,document.querySelectorAll(".trash").forEach((function(e){e.addEventListener("click",(function(e){var i=e.target.parentNode.querySelector(".todo-edit").id;r.removeTodo(+i),t()}))})),document.querySelectorAll(".todo-edit").forEach((function(e){e.addEventListener("blur",(function(e){var i=e.target.id;if(""!==e.target.innerText.trim()){var n={description:e.target.innerText,index:i};r.updateTodo(n),t()}else e.target.innerText=r.list[+i-1].description}))})),document.querySelectorAll(".checked").forEach((function(e){e.addEventListener("click",(function(e){var i=e.target.parentNode.querySelector(".todo-edit").id,n=r.list.find((function(t){return t.index===+i}));n.completed=e.target.checked,r.updateTodo(n),t()}))}))};document.querySelector(".clear-complete").addEventListener("click",(function(){r.clearCompleted(),c()})),c()}();
//# sourceMappingURL=main.js.map